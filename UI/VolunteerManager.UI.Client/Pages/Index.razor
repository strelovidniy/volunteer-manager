@page "/"

@using Microsoft.AspNetCore.Components.Web
@using MudBlazor

<PageTitle>
    Volunteer Manager
</PageTitle>

@if (_isPageLoading)
{
    <div class="loader-container">
        <MudProgressCircular Color="Color.Primary" 
                             Style="height: 10%; width: 10%;" 
                             Indeterminate="true"/>
    </div>
}
else
{
    @if (_currentUser?.Organization == null)
    {
        <div class="tabs">
            <MudTabs Elevation="0" 
                     Rounded="true" 
                     ApplyEffectsToContainer="true" 
                     PanelClass="pa-6"
                     Centered="true"
                     Color="Color.Transparent"
                     @bind-ActivePanelIndex="_selectedIndex">
                <MudTabPanel Text="All"/>
                <MudTabPanel Text="For me"/>
            </MudTabs>
        </div>
        <div class="filters">
            <MudExpansionPanel Text="Show filters"
                               IsExpanded="true">
                <div class="d-flex flex-row">
                    <MudButton Color="Color.Success"
                               Variant="Variant.Filled"
                               Size="Size.Large"
                               Style="width: 150px;
                                      margin-top: 15px;">
                        All
                    </MudButton>
                </div>
                <div class="d-flex flex-row">
                    <MudButton Color="Color.Success"
                               Variant="Variant.Filled"
                               Size="Size.Large"
                               Style="width: 150px;
                                      margin-top: 15px;">
                        All
                    </MudButton>
                </div>
            </MudExpansionPanel>
        </div>
    }
    else
    {
        <div class="tabs">
            <MudTabs Elevation="0"
                     Rounded="true"
                     ApplyEffectsToContainer="true"
                     PanelClass="pa-6"
                     Centered="true"
                     Color="Color.Transparent"
                     @bind-ActivePanelIndex="_selectedIndex">
                <MudTabPanel Text="My Events" />
                <MudTabPanel Text="Other organizations" />
            </MudTabs>
        </div>
    }
}