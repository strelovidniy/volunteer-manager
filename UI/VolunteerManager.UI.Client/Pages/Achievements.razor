@page "/achievements"

@using MudBlazor
@using Microsoft.AspNetCore.Components.Web

<PageTitle>
    Achievements
</PageTitle>


@if (_isPageLoading)
{
    <div class="loader-container">
        <MudProgressCircular Color="Color.Primary"
                             Style="height: 10%; width: 10%;"
                             Indeterminate="true" />
    </div>
}
else
{
    <div class="tabs">
        <MudTabs Elevation="0"
                 Rounded="true"
                 ApplyEffectsToContainer="true"
                 PanelClass="pa-6"
                 Centered="true"
                 Color="Color.Transparent"
                 ActivePanelIndex="_selectedIndex"
                 ActivePanelIndexChanged="ChangeIndex">
            <MudTabPanel Text="My" />
            <MudTabPanel Text="All"/>
        </MudTabs>
        <div class="achievements-container">
            <MudGrid>
                @foreach (var achievement in _filteredAchievements)
                {
                    <MudItem xs="12"
                             md="4"
                             Class="d-flex flex-column align-center justify-center">
                        <MudImage Src="@achievement.Src"/>
                        <MudText Typo="Typo.h6"
                                 Class="px-4 py-2">
                            @achievement.Title
                        </MudText>
                            
                        <MudText Typo="Typo.body1"
                                 Class="px-4 py-2">
                            @achievement.Description
                        </MudText>
                    </MudItem>
                }
            </MudGrid>
        </div>
    </div>
}